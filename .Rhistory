jpeg('figs/337um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X0.337um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('0.337 ',mu, 'm')))
points(pnc_day$date,pnc_day$X0.337um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 0.4195 um
jpeg('figs/4195um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X0.4195um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('0.4195 ',mu, 'm')))
points(pnc_day$date,pnc_day$X0.4195um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 0.522 um
jpeg('figs/522um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X0.522um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('0.522 ',mu, 'm')))
points(pnc_day$date,pnc_day$X0.522um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 0.65 um
jpeg('figs/65um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X0.65um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('0.65 ',mu, 'm')))
points(pnc_day$date,pnc_day$X0.65um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 0.809 um
jpeg('figs/809um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X0.809um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('0.809 ',mu, 'm')))
points(pnc_day$date,pnc_day$X0.809um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 1.007 um
jpeg('figs/1007um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X1.007um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('1.007 ',mu, 'm')))
points(pnc_day$date,pnc_day$X1.007um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 1.254 um
jpeg('figs/1254um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X1.254um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('1.254 ',mu, 'm')))
points(pnc_day$date,pnc_day$X1.254um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 1.5615 um
jpeg('figs/15615um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X1.5615um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('1.5615 ',mu, 'm')))
points(pnc_day$date,pnc_day$X1.5615um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 1.944 um
jpeg('figs/1944um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X1.944um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('1.944 ',mu, 'm')))
points(pnc_day$date,pnc_day$X1.944um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 2.4205 um
jpeg('figs/24205um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X2.4205um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('2.4205 ',mu, 'm')))
points(pnc_day$date,pnc_day$X2.4205um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 3.014 um
jpeg('figs/3014um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X3.014um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('3.014 ',mu, 'm')))
points(pnc_day$date,pnc_day$X3.014um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 3.7525 um
jpeg('figs/37525um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X3.7525um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('3.7525 ',mu, 'm')))
points(pnc_day$date,pnc_day$X3.7525um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 4.672 um
jpeg('figs/4672um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X4.672um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('4.672 ',mu, 'm')))
points(pnc_day$date,pnc_day$X4.672um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 5.8165 um
jpeg('figs/58165um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X5.8165um,type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('5.8165 ',mu, 'm')))
points(pnc_day$date,pnc_day$X5.8165um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 7.241 um
jpeg('figs/7241um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X7.241um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('7.241 ',mu, 'm')))
points(pnc_day$date,pnc_day$X7.241um, pch = 19, col = 'black')
dev.off()
# Plot of hourly data 9.0155 um
jpeg('figs/90155um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(pnc_hour$date,pnc_hour$X9.0155um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('9.0155 ',mu, 'm')))
points(pnc_day$date,pnc_day$X9.0155um, pch = 19, col = 'black')
dev.off()
library(openair)
?timeAverage
timeVariation(pnc_hour, pollutant = 'X0.337um')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um')
x0337um$data
x0337um$data$hour
timeVariation()
?timeVariation
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um', key = TRUE)
plot(x0037um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um')
plot(x0037um, subset = 'day.hour')
plot(x0337um, subset = 'day.hour')
plot(x0337um, subset = 'day.hour', cols = 'grey')
plot(x0337um, subset = 'day.hour', cols = 'default')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um', cols = 'heat')
plot(x0337um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um', cols = 'black')
plot(x0337um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um', cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'))
plot(x0337um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um', cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')))
plot(x0337um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = 'X0.337um', cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = expression(paste('0.337 ',mu, 'm')))
plot(x0337um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = c('X0.337um','X0.4195um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.337 ',mu, 'm')),
expression(paste('0.4195 ',mu, 'm'))))
x0337um <- timeVariation(pnc_hour,pollutant = c('X0.337um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.337 ',mu, 'm'))))
plot(x0337um, subset = 'day.hour')
plot(x0337um, subset = 'day.hour')
x0337um <- timeVariation(pnc_hour,pollutant = c('X0.337um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.337 ',mu, 'm'))), legend = FALSE)
jpeg('figs/day_0337um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(x0337um, subset = 'day.hour')
dev.off()
x40195um <- timeVariation(pnc_hour,pollutant = c('X0.4195um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.4195 ',mu, 'm'))))
jpeg('figs/day_04195um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(x04195um, subset = 'day.hour')
dev.off()
x04195um <- timeVariation(pnc_hour,pollutant = c('X0.4195um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.4195 ',mu, 'm'))))
jpeg('figs/day_04195um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(4.1,4.1,1.1,0.1))
plot(x04195um, subset = 'day.hour')
dev.off()
rm(x40195um)
jpeg('figs/day_0337um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
par(mar = c(3.1,3.1,1.1,0.01))
plot(x0337um, subset = 'day.hour')
dev.off()
jpeg('figs/day_0337um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(3.1,3.1,1.1,0.01))
plot(x0337um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x0522um <- timeVariation(pnc_hour,pollutant = c('X0.522um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.522 ',mu, 'm'))))
jpeg('figs/day_04195um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x0522um, subset = 'day.hour')
dev.off()
x0522um <- timeVariation(pnc_hour,pollutant = c('X0.522um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.522 ',mu, 'm'))))
jpeg('figs/day_0522um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x0522um, subset = 'day.hour')
dev.off()
jpeg('figs/day_04195um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x04195um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x065um <- timeVariation(pnc_hour,pollutant = c('X0.65um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.65 ',mu, 'm'))))
jpeg('figs/day_065um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x065um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x0809um <- timeVariation(pnc_hour,pollutant = c('X0.809um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.809 ',mu, 'm'))))
jpeg('figs/day_0809um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x0809um, subset = 'day.hour')
dev.off()
x1007um <- timeVariation(pnc_hour,pollutant = c('X1.007um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('1.007 ',mu, 'm'))))
jpeg('figs/day_1007um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x1007um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x1254um <- timeVariation(pnc_hour,pollutant = c('X1.254um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('1.254 ',mu, 'm'))))
jpeg('figs/day_1254um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x1254um, subset = 'day.hour')
dev.off()
x15615um <- timeVariation(pnc_hour,pollutant = c('X1.5615um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('1.5615 ',mu, 'm'))))
jpeg('figs/day_15615um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x15615um, subset = 'day.hour')
dev.off()
x1944um <- timeVariation(pnc_hour,pollutant = c('X1.944um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('1.944 ',mu, 'm'))))
jpeg('figs/day_1944um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x1944um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x24205um <- timeVariation(pnc_hour,pollutant = c('X2.4205um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('2.4205 ',mu, 'm'))))
jpeg('figs/day_24205um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x24205um, subset = 'day.hour')
dev.off()
x3014um <- timeVariation(pnc_hour,pollutant = c('X3.014um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('3.014 ',mu, 'm'))))
jpeg('figs/day_3014um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x3014um, subset = 'day.hour')
dev.off()
x37525um <- timeVariation(pnc_hour,pollutant = c('X3.7525um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('3.7525 ',mu, 'm'))))
jpeg('figs/day_3725um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x37525um, subset = 'day.hour')
dev.off()
x4672um <- timeVariation(pnc_hour,pollutant = c('X4.672um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('4.672 ',mu, 'm'))))
jpeg('figs/day_4672um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x4672um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x58165um <- timeVariation(pnc_hour,pollutant = c('X5.8165um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('5.8165 ',mu, 'm'))))
jpeg('figs/day_58165um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x58165um, subset = 'day.hour')
dev.off()
x7241um <- timeVariation(pnc_hour,pollutant = c('X7.241um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('7.241 ',mu, 'm'))))
jpeg('figs/day_7241um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x7241um, subset = 'day.hour')
dev.off()
# Diurnal trend plots
x90155um <- timeVariation(pnc_hour,pollutant = c('X9.0155um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('9.0155 ',mu, 'm'))))
jpeg('figs/day_90155um.jpeg', width = 16, height = 8, units = 'cm', res = 300)
#par(mar = c(4.1,4.1,1.1,0.1))
plot(x90155um, subset = 'day.hour')
dev.off()
View(pnc)
plot(pnc$date, pnc$X0.337um, type = 'l')
plot(pnc$date, pnc$X0.4195um, type = 'l')
plot(pnc$date, pnc$X0.522um, type = 'l')
plot(pnc_hour$date,pnc_hour$X0.337um, type = 'l', xlab = 'Date',
ylab = expression(
paste('Particle number count /',' cm'^'3')),
main = expression(paste('0.337 ',mu, 'm')))
x0337um <- timeVariation(pnc_hour,pollutant = c('X0.337um'), cols = 'black',
xlab = c('Hour','Hour','Month','Weekday'),
ylab = expression(paste('Particle number count /',' cm'^'3')),
name.pol = c(expression(paste('0.337 ',mu, 'm'))))
x0337um
View(pnc)
set.seed(1)
pnc_cluster <- kmeans(pnc[,2:17], 16, nstart = 30)
warnings()
pnc_cluster <- kmeans(pnc[,2:17], 16, nstart = 10)
pnc_cluster <- kmeans(pnc[,2:17], 16, nstart = 5)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2:17], 16, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2:17], 8, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2:17], 12, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2:17], 14, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 7, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 2, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,5], 2, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,7], 2, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 7, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 5, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 6, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 7, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 8, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 10, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,2], 20, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,3], 7, nstart = 10)
pnc_cluster
pnc_cluster <- kmeans(pnc[,17], 7, nstart = 10)
pnc_cluster
plot(pnc_cluster)
wss <- (nrow(pnc)-1)*sum(apply(pnc,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc,
centers=i)$withinss)
pnc_no <- pnc[,-1]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc_no,
centers=i)$withinss)
plot(1:15, wss, type="b", xlab="Number of Clusters",
ylab="Within groups sum of squares")
pnc_no <- pnc[,2]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc_no,
centers=i)$withinss)
plot(1:15, wss, type="b", xlab="Number of Clusters",
ylab="Within groups sum of squares")
pnc_no <- pnc[,3]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc_no,
centers=i)$withinss)
pnc_no <- pnc[,3]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
pnc_no <- pnc[,3]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
pnc_no <- pnc[,4]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
pnc_no <- pnc[,2]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
pnc_no <- pnc[,2:17]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc_no,
centers=i)$withinss)
plot(1:15, wss, type="b", xlab="Number of Clusters",
ylab="Within groups sum of squares")
pnc_no <- pnc[,2]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
pnc_no <- pnc[,2:3]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc_no,
centers=i)$withinss)
plot(1:15, wss, type="b", xlab="Number of Clusters",
ylab="Within groups sum of squares")
pnc_no <- pnc[,2:6]
wss <- (nrow(pnc_no)-1)*sum(apply(pnc_no,2,var))
for (i in 2:15) wss[i] <- sum(kmeans(pnc_no,
centers=i)$withinss)
plot(1:15, wss, type="b", xlab="Number of Clusters",
ylab="Within groups sum of squares")
matrix_pnc <- as.matrix(pnc[,-1])
cor_pnc <- cor(matrix_pnc)
pca_pnc <- prcomp(matrix_pnc, center = TRUE, scale. = TRUE)
print(pca_pnc)
plot(pca_pnc, type = 'l')
summary(pca_pnc)
library(openair)
library(mapdata) # To use hi-res maps
library(mapproj)
source('R/hysplit_run/procTraj.R')
source('R/hysplit_run/read.files.R')
source('R/hysplit_run/getMet.R')
source('R/hysplit_run/add.met.R')
library(openair)
library(mapdata) # To use hi-res maps
library(mapproj)
source('R/hysplit_run/procTraj.R')
source('R/hysplit_run/read.files.R')
source('R/hysplit_run/getMet.R')
source('R/hysplit_run/add.met.R')
summary(pnc$date)
getMet(year=2016,month=12)
getMet(year=2017,month=1:4)
for(i in 2016){
procTraj(lat=3.168434,lon=101.701301,year=i,
name='kl',hours=72,height=500,
met='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajData/',
out='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajProc/')
}
for(i in 2017){
procTraj(lat=3.168434,lon=101.701301,year=i,
name='kl',hours=72,height=500,
met='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajData/',
out='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajProc/')
}
trajKL<-importTraj(site='kl',year=2017,local='data/TrajProc/')
load("~/Documents/Work/Data_analysis/pnc_ukm/data/TrajProc/kl2017.RData")
View(traj)
trajKL<-importTraj(site='kl',year=2017,local='data/TrajProc/')
trajKL<-importTraj(site='kl',year=2017,local='/data/TrajProc/')
setwd('/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/')
trajKL<-importTraj(site='kl',year=2017,local='/data/TrajProc/')
getwd()
trajKL<-importTraj(site='kl',year=2017,local='data/TrajProc/')
rm(traj)
trajLevel(trajKL, projection = 'mercator', orientation = c(90,90,0),
parameters=NULL,map.res = 'hires',statistic = 'cwt')
for(i in 2016){
procTraj(lat=3.168434,lon=101.701301,year=i,
name='kl1',hours=72,height=500,
met='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajData/',
out='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajProc/')
}
getMet(year=2016,month=11)
for(i in 2016){
procTraj(lat=3.168434,lon=101.701301,year=i,
name='kl1',hours=72,height=500,
met='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajData/',
out='/Users/Yusri/Documents/Work/Data_analysis/pnc_ukm/data/TrajProc/')
}
getMet(year=2016,month=1:10)
